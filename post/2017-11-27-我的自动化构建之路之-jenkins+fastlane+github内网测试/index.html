<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>我的自动化构建之路之 Jenkins+Fastlane+Github内网测试 | 君赏博客</title>
<meta name="description" content="2012年从事iOS开发，资深iOS开发菜鸟，目前在环球易购占坑。喜欢研究偏门技术，喜欢自动化编程，喜欢研究小软件提高编程效率" />
<link rel="shortcut icon" href="https://joserccblog.github.io/favicon.ico">
<link rel="stylesheet" href="https://joserccblog.github.io/styles/main.css">

<script src="https://joserccblog.github.io/media/js/jquery.min.js"></script>
<script src="https://joserccblog.github.io/media/js/masonry.pkgd.min.js"></script>
<script src="https://joserccblog.github.io/media/js/aos.js"></script>
<script src="https://joserccblog.github.io/media/js/pace.min.js"></script>
<script src="https://joserccblog.github.io/media/js/view-image.min.js"></script>
<script src="https://joserccblog.github.io/media/js/functions.js"></script>
    <script src="https://joserccblog.github.io/media/js/waterfall.min.js"></script>
    <script src="https://joserccblog.github.io/media/js/prism.min.js"></script>
    
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
    
  </head>
  <body>
            <header id="header" class="grid-container">
        <!-- start: .menu-wrapper -->
        <div class="menu-mobile"> 
          <i class="fa fa-reorder"></i>
        </div>
        <div class="menu-wrapper">
          <div class="">
            <div class="logo">
              <a href="https://joserccblog.github.io"><img src="https://joserccblog.github.io/media/images/logoo.png" alt=""></a>
            </div>
            <!-- start: .main-nav -->

            <nav class="main-nav grid-container grid-parent">
              <ul id="menu-header" class="menu gradient-effect">
                
                  <li class=""><a href="https://joserccblog.github.io" class="menu">首页</a></li>
                
                
                  <li class="" >
                    <a href="/archives" class="menu">
                      归档
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/tags" class="menu">
                      标签
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/about" class="menu">
                      关于
                    </a>
                  </li>
                
                  <li class="" >
                    <a href="/post/contact/" class="menu">
                      联系作者
                    </a>
                  </li>
                
              </ul>
            </nav>
            <!-- end: .main-nav -->
            <div class="clear"></div>
            <div class="border hide-on-tablet hide-on-mobile"></div>
          </div>    
          <div class="clear"></div>
        </div>
        <!-- end: .menu-wrapper -->
        <div class="clear"></div>
      </header>

      <main id="single" class="main grid-container fullcover no-sidebar aos-init aos-animate" data-aos="fade">

        <div class="center content">
          <div class="featured-image cover" style="background-image: url('http://ipicimage-1251019290.coscd.myqcloud.com/2017-11-27-062922.jpg');">
            <div class="meta top"> 
              <time class="meta-info" style="float:left;" datetime="2017-11-27"><i class="fa fa-calendar"></i><span class="lately">2 年前</span></time>
               
               
               <span id="/post/2017-11-27-我的自动化构建之路之-jenkins+fastlane+github内网测试/" class="leancloud_visitors views-counter meta-info">
                <i class="fa fa-leancloud"></i><span class="leancloud-visitors-count" style="vertical-align: middle;">0</span>
               </span>
               
            </div>
            <div class="info">
              <div class="tags ">
                
                      <a href="https://joserccblog.github.io/tag/zi-dong-hua" class="ctag ctag-0 ctag-zi-dong-hua" aria-label="">自动化</a>
                    
              </div>
              <h1 class="title ularge white bold">我的自动化构建之路之 Jenkins+Fastlane+Github内网测试</h1>
            </div>
          </div>
        </div>  

        <div class="epcl-page-wrapper">
          <div class="left-content grid-70 np-mobile">
            <article class="main-article post">
              <section class="post-content">
                <div class="text">
                  <blockquote>
<p>很久没写文章了，确实觉得也没什么可写的，最近一直研究自动化打包，遇到了一些问题也解决了一些，就准备写一下这个心得吧。</p>
</blockquote>
<h2 id="为什么要采用这一种自动化打包方式呢">为什么要采用这一种自动化打包方式呢？</h2>
<p>可能看到这一篇文章很多人认为 <code>Jenkins</code>就可以实现自动化打包，并且 <code>Fastlane</code>配置 完毕之后打包更加的轻松。干嘛还搞在一起，这不是重复了吗。</p>
<figure data-type="image" tabindex="1"><img src="http://upload-images.jianshu.io/upload_images/545662-fede5341588d81c7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>可能 <code>Jenkins</code> 对于一般的工程，可能配置不太复杂十分的可行，并且一些打包完毕上传到 <a href="https://fir.im">Fir.im</a>进行 App 的托管的确十分的方便。</p>
<p>我在之前的公司的确是把所有的 App 的都托管在 <a href="https://fir.im">Fir.im</a>上面，让测试人员自己进行打包下载安装。</p>
<p>但是，但是，这已经不符合我们现在 App 打包和不满足测试人员进行安装的需求了。</p>
<p>之前在我们公司不用的 <code>Mac mini</code>上面搭建了 <code>Jenkins</code>环境，确实当时还用了一段时间。</p>
<p>最后随着工程每次打包或者运行都需要更改 <code>谷歌统计</code> 和 <code>Branch</code>统计的 <strong>Key</strong>，因为是配置在打包的 <strong>Plist</strong>文件里面的，所以在代码无法进行修改。</p>
<p>我为了防止打包的环境出现测试和正式配置错乱，就做了初始化环境配置的判断。 如果判断出来环境配置不符合运行的规则就直接提示用户配置错误，无法继续的运行。</p>
<p>虽然这个功能是好的，但是为此每次打包和运行都引来很多的麻烦。稍微不注意打包的环境可能没改过来，就直接不能运行。</p>
<figure data-type="image" tabindex="2"><img src="http://upload-images.jianshu.io/upload_images/545662-2bd97b0bc8df83e2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>辛辛苦苦编译之后打包安装，花费了多少心血，浪费我多少时间，竟然配置错误了。</p>
<p>为此我做了一款更改环境配置的软件，之前的文章有说起过。问我为什么不写脚本写 <code>Mac 软件</code>。因为我除了熟悉 <code>Objective-C</code>和了解 <code>Swift</code>对于其他的语言完全不会呀，我只想静静。</p>
<figure data-type="image" tabindex="3"><img src="http://upload-images.jianshu.io/upload_images/545662-a352319cd2c9ad74.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>环境配置切换的软件做出来了，配置好了。前期确实很好用，最后缺点还是一点点的暴露出来了。</p>
<p>在测试阶段还好，测试人员顶多过来让你打最新的测试包。但是到了后台上线的时候，为了测一下不影响 <code>iOS</code> 现在线上的版本。</p>
<p>测试人员就过来跑到我们的面前。</p>
<p>给我打一个 <strong>1.5.1</strong>版本的 <strong>c</strong>分支的包！</p>
<p>给我打一个 <strong>1.5.1</strong>版本的 <strong>trunk</strong>分支的包！</p>
<p>给我打一个 <strong>1.5.1</strong>版本的 <strong>预发布</strong>包！</p>
<p>……！</p>
<figure data-type="image" tabindex="4"><img src="http://upload-images.jianshu.io/upload_images/545662-f281554c5ea69285.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>测试，你烦人不，烦人不，别跑呀！看我不打断你的腿！</p>
<p>为了不因为分支频繁的打包，我做了可以在程序内部进行 <strong>切换分支</strong>和 <strong>测试切换到预发布</strong>的功能。</p>
<p>其实这个功能早在去年十月份我请假回家那一天上午就做好了，但是最近又优化了功能。</p>
<p>做好之后再也没听到测试要打那个 <strong>分支</strong>，要打 <strong>预发布</strong>的包的话了。</p>
<p>虽然现在的打包需求变成了只用打 <strong>测试</strong>和 <strong>预发布</strong>环境的安装包，但是我觉得还是很烦，毕竟每次打包都需要几分钟，那还是在我 这个 拥有下面配置的机器上面。</p>
<figure data-type="image" tabindex="5"><img src="http://upload-images.jianshu.io/upload_images/545662-879214f322851113.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>我觉得还是很烦，觉得还是很影响我安静的敲代码，因为我是一个懒人，能用工具做的绝不自己弄。</p>
<figure data-type="image" tabindex="6"><img src="http://upload-images.jianshu.io/upload_images/545662-b2e967612da43989.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>当时想着利用 <code>Jenkins</code>进行打包之前写一个 <code>Shell</code>脚本替换环境的配置，为此我那段时间还专门看了 <code>Shell</code>的入门教程，最后我放弃了。</p>
<p>为了这么小的需求还要专门学一下 <code>Shell</code>，我觉得代价有些大，就只看了简单的语法就到此结束了。</p>
<p>看来 <code>Jenkins</code>这条路已经在我这边行不通了，难道就没有其他的方案可以解决掉我们现在的问题吗？</p>
<p>之前还想把 <code>Fir-Ci</code>打包的命令和我需要打包一套功能做成一个客户端，方便我进行打包。</p>
<p>但是因为我竟然没找到怎么在 <code>NSTask</code>执行 <strong>Sudo</strong>命令和自动输入密码，最后这个方案也是结束了。</p>
<p>在我准备放弃自动化打包这个念头的时候，这个时候不知道从什么地方听到了 <code>Fastlane</code>这个自动化打包的名词。</p>
<p>我看了 <code>Fastlane</code>是上万星的时候，我仿佛看到了希望之光。上万星，这说明主要的公司和大部分的开发者都在用这个进行打包。</p>
<p>以后用 <code>Fastlane</code>进行打包成为主流的打包方式，我觉得学习一下。最后还真的找到了插件可以在打包之前修改我们的配置 <strong>Key</strong>。</p>
<p>但是 <code>Fastlane</code>的安装和配置真实一路的血和泪，因为我安装的是 <code>zsh</code>的脚本命令替换掉了 <code>bash</code>系统自带的命令，导致 <code>Fastlane</code>会打包失败。那是之后的事情了。</p>
<p>因为使用 <code>Fastlane</code>我才又一次接触 <code>Fabric</code>这个软件的。之前我还仅以为这只是用来统计崩溃和发布 APP 的软件。</p>
<p>没想到 <code>Fastlane</code>竟然是也是这个公司出的，棒棒的！我把打好的包托管上了 <code>Fabric</code>这个平台上面，但是测试反应下载 APP 是特级慢，特级慢！</p>
<p>我之前经常搭建企业安装的环境，无非就是 点击安装转接到 <strong>Plist</strong> 的地址，从 <strong>Plist</strong>读取 <strong>Ipa</strong>的安装路径进行安装。</p>
<p>不过从 <code>iOS7</code>开始必须让 <strong>Plist</strong>是正规的地址，不然无法进行安装。</p>
<h2 id="搭建本地安装-ipa-的环境">搭建本地安装 ipa 的环境</h2>
<figure data-type="image" tabindex="7"><img src="http://upload-images.jianshu.io/upload_images/545662-938cfe53709f9522.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<ul>
<li>我们前往 <code>MAMP</code>的官方网址: <a href="https://www.mamp.info/en/">MAMP</a></li>
<li>我们下载免费版本 <code>MAMP</code>: <a href="https://www.mamp.info/en/downloads/">免费版本 MAMP 下载地址</a></li>
<li>点击 <code>MAMP</code>软件运行</li>
</ul>
<h4 id="还可能需要修改的地方">还可能需要修改的地方</h4>
<p>为了防止不和其他的服务端口进行冲突，我们修改一下端口。</p>
<ol>
<li>点击 <code>MAMP</code>的配置功能</li>
</ol>
<figure data-type="image" tabindex="8"><img src="http://upload-images.jianshu.io/upload_images/545662-e673b648f061a3df.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<ol start="2">
<li>
<p>点击配置的端口界面</p>
<figure data-type="image" tabindex="9"><img src="http://upload-images.jianshu.io/upload_images/545662-d5ec4df389a32cd0.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
</li>
</ol>
<blockquote>
<p>我这边设置上面的端口，其实端口你们可以随便的定义，只要不进行冲突就可以了。</p>
</blockquote>
<h2 id="搭建-jenkins-服务">搭建 Jenkins 服务</h2>
<p>使用如下的命令进行安装</p>
<pre><code class="language-shell">brew install jenkins
</code></pre>
<p>启动</p>
<pre><code class="language-shell">jenkins
</code></pre>
<blockquote>
<p>现在有个问题当执行 <code>Jenkins</code>的终端关闭之后 <strong>Jenkins 服务</strong>也就停止了，我也没去研究怎么让服务开机启动不随着中断关闭。</p>
</blockquote>
<p>对于 <code>Jenkins</code>安装我也不多说了，可以自己去 <code>谷歌</code> 和 <code>百度</code>也可以参考下面一位简书大神的文章 <a href="http://www.jianshu.com/p/49706b350a14">Mac 安装 Jenkins</a></p>
<h2 id="安装-fastlane">安装 Fastlane</h2>
<ol>
<li>
<p>前往 <code>Fastlane</code>的项目地址</p>
<p><a href="https://github.com/fastlane/fastlane">FastlaneGithub 地址</a></p>
</li>
<li>
<p>按照下面的教程进行安装</p>
<figure data-type="image" tabindex="10"><img src="http://upload-images.jianshu.io/upload_images/545662-4b7e583c8d5ac163.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
</li>
</ol>
<h2 id="配置fastlane参考我公司项目">配置Fastlane(参考我公司项目)</h2>
<ol>
<li>
<p>在终端 <code>cd</code>到项目的主目录</p>
<pre><code class="language-shell">cd xxx
</code></pre>
<figure data-type="image" tabindex="11"><img src="http://upload-images.jianshu.io/upload_images/545662-4ac495adc223f92c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
</li>
<li>
<p>执行 <code>fastlane init</code></p>
</li>
</ol>
<blockquote>
<p>安装安装的步骤配置完毕之后就自动在工程的目录生成 <code>fastlane</code>的文件夹了。</p>
</blockquote>
<p>对于 <code>Fastlane</code>安装不太了解的，也可以去百度和谷歌。</p>
<ol start="3">
<li>
<p>打开 <code>Fastlane</code>目录下面的 <strong>Fastfile</strong>文件，可以用记事本打开，也可以用其他的编辑软件，这里我推荐 <code>Github</code>出的 <code>Atom</code>编辑器。</p>
</li>
<li>
<p>删除自动生成的代码</p>
</li>
<li>
<p>配置测试和线上两种环境</p>
<pre><code class="language-ruby">lane :beta do |values|
  increment_build_number
  test_key
  archiveipa &quot;Debug&quot;
end

lane :applive do |values|
  increment_build_number
  kive_key
  archiveipa &quot;Release&quot;
end
</code></pre>
</li>
</ol>
<blockquote>
<p>对于还有其他环境的可以自动的进行配置 其实语法应该还是挺简单的，对于我这个没学过 <strong>Ruby</strong>的都写出来了，不相信你写不出来。</p>
</blockquote>
<p><strong>increment_build_number</strong>这个是让每次打包让编译号自动的+1.</p>
<ol start="6">
<li>
<p>配置<code>CURRENT_PROJECT_VERSION</code> 字段</p>
<p>前往 Target-&gt;Build Setting-&gt;current project version字段设置为当前的 Build 号我设置是正整数简单。</p>
</li>
<li>
<p>设置环境配置的环境</p>
<pre><code class="language-ruby">def test_key
  set_info_plist_value(key:&quot;branch_key&quot;, value:&quot;xxxxxx&quot;, path: &quot;./GearBest/Info.plist&quot;)
  set_info_plist_value(key:&quot;TRACKING_ID&quot;, value:&quot;xxxxxx&quot;, path: &quot;./GearBest/Others/GoogleService-Info.plist&quot;)
end

def kive_key
  set_info_plist_value(key:&quot;branch_key&quot;, value:&quot;xxxxxx&quot;, path: &quot;./GearBest/Info.plist&quot;)
  set_info_plist_value(key:&quot;TRACKING_ID&quot;, value:&quot;xxxxxx&quot;, path: &quot;./GearBest/Others/GoogleService-Info.plist&quot;)
end
</code></pre>
<blockquote>
<p>我们设置 <code>test_key</code>和 <code>kive_key</code>两个方法用于每次打包进行正确的配置，解决了我们每次打错环境包的问题。</p>
<p>一定要配置好 <code>path</code>的路径，不然无法配置正确。</p>
</blockquote>
</li>
<li>
<p>设置快速切换配置的环境</p>
<pre><code class="language-ruby">lane :test_key_configuration do |values|
  test_key
end

lane :live_key_configuration do |values|
  kive_key
end
</code></pre>
<blockquote>
<p>这样方便我们开发自己撸代码的时候十分切换配置环境 还十分快速。</p>
</blockquote>
</li>
<li>
<p>配置打包</p>
<pre><code class="language-ruby">def archiveipa(configuration)
  build_number = get_build_number(xcodeproj: &quot;GearBest.xcodeproj&quot;) #获取当前的 Build 号码
  version = get_version_number(xcodeproj: &quot;GearBest.xcodeproj&quot;) #获取当前的版本号
  output_directory = &quot;/Applications/MAMP/htdocs/ipa/&quot;+configuration+&quot;/GearBest_&quot; + version + &quot;_&quot; + build_number #导出打包文件和 ipa 的目录
  output_name = &quot;GearBest_temp&quot; #导出的ipa 的名字
  gym(scheme: 'GearBest', export_method: 'ad-hoc', configuration: configuration, output_directory: output_directory, output_name:output_name, clean:true) # 进行打包
end
</code></pre>
<blockquote>
<p>导出到我们 <code>MAMP</code>服务的地址和生成对应版本和 <strong>Build</strong>目录是为了方便进行自动发布</p>
</blockquote>
</li>
</ol>
<h2 id="新建jenkins-项目">新建Jenkins 项目</h2>
<ol>
<li>
<p>新建一个项目</p>
<blockquote>
<p>名字不要包含%%特殊的字符串，防止影响我们自动上传软件的使用。</p>
</blockquote>
</li>
<li>
<p>配置项目</p>
<figure data-type="image" tabindex="12"><img src="http://upload-images.jianshu.io/upload_images/545662-8eeb090e7e41c6ac.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<blockquote>
<p>配置好我们的 <strong>SVN</strong>地址这个其实很简单的。</p>
</blockquote>
</li>
<li>
<p>新建一个构建 <code>Shell</code>脚本</p>
<pre><code class="language-shell">#!/bin/bash

#rm -rf  /Users/zhangxing/Library/Developer/Xcode/DerivedData/* #这个本来是想打包之前清理 DerivedData 数据的但是清理会影响我本地其他项目 就屏蔽了
fastlane beta #执行打测试包 需要打其他环境请复制一份修改这里即可。
cd /Applications/MAMP/htdocs #前往 MAMP服务的文件夹
touch &quot;jenkins%%${JOB_NAME}%%${BUILD_NUMBER}&quot; #生成最新打包的配置文件
open /Applications/IPIPA.app #打包自动上传的 APP
sleep 60 #休眠60秒等待 APP 执行完毕
</code></pre>
</li>
</ol>
<p>保存等待全部配置完毕执行即可。</p>
<h2 id="在-github-新建一个存放-plist-文件的项目">在 Github 新建一个存放 Plist 文件的项目。</h2>
<p>在 <code>Github</code>项目新建项目我就不多说了。</p>
<ol>
<li>
<p><code>Clone</code> 项目到 <code>MAMP</code>的主目录</p>
<figure data-type="image" tabindex="13"><img src="http://upload-images.jianshu.io/upload_images/545662-f681bd40ad17591e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
</li>
</ol>
<h2 id="配置-mamp目录">配置 MAMP目录</h2>
<ol>
<li>
<p>存放 <code>Icon</code>图片</p>
<p>把 <strong>57x57</strong>和 <strong>512x512</strong>的图片保存在 <code>MAMP</code>服务的主目录 <strong>/Applications/MAMP/htdocs</strong></p>
</li>
<li>
<p>新建 <code>ipa</code>目录存放在 <strong>/Applications/MAMP/htdocs</strong>目录</p>
</li>
<li>
<p>保存 <code>mainfest.plist</code>文件到主目录</p>
<p><a href="https://raw.githubusercontent.com/HQMoble/iPiPa/master/manifest.plist">模板 Plist 配置文件下载地址</a></p>
</li>
</ol>
<h2 id="写自动化上传软件">写自动化上传软件</h2>
<blockquote>
<p>软件源代码不小心删除了。</p>
<p>唉！</p>
<p>唉！</p>
<p>唉！</p>
</blockquote>
<p>下面说一下软件逻辑的实现吧。</p>
<p>当时考虑怎么让打包完毕之后让自动生成 <strong>Plist</strong> 上传最新的 <strong>Plist</strong>到 <strong>github</strong> 目录之后生成最新的下载地址。</p>
<p>我当时考虑用 <code>php</code>或者用 <code>Swift</code>的第三方库做一个接口，打包完毕发送一个请求服务器做处理。</p>
<p>考虑到自己 <code>php</code>是菜鸟， <code>Vapor</code>自己又不精通就放弃了，准备再次写一个 <code>Mac 的应用程序</code>。</p>
<p>当我们执行 <code>open /Applications/IPIPA.app</code>会打开我们写的应用程序 我们就可以写一些处理的逻辑了。</p>
<p>根据刚才的创建文件的命令</p>
<pre><code class="language-shell">touch &quot;jenkins%%${JOB_NAME}%%${BUILD_NUMBER}&quot;
</code></pre>
<p>我们查询 <code>/Applications/MAMP/htdocs</code>目录下面是否存在 **jenkins%%**开头的文件，没有说明不存在最新的打包 我们直接重新生成本地现有即可。</p>
<p>我们利用字符串分割 <code>%%</code>分割为三部分，读取出最近打包的 <code>项目名称</code> 和 <code>打包的编译号</code>删除 <code>jenkins%%</code>文件。</p>
<p>我们查找 <code>/Applications/MAMP/htdocs/ipa</code>目录是否存在 <code>GearBest_temp.ipa</code>的文件如果存在就是最新打包的 <code>ipa</code>.</p>
<p>我们在 <code>GearBest_temp.ipa</code>上层文件夹 <code>/Applications/MAMP/htdocs/ipa/Debug/GearBest_1.5.1_244</code>找到是 <code>Debug</code>还是 <code>Release</code>的包。并且解析安装包的 <code>版本</code>和 <code>编译号</code>。</p>
<p>我们使用 <code>Copy</code>命令用 <code>NSTask</code>执行一个简单的 <code>Shell</code>脚本把 <code>/Applications/MAMP/htdocs/mainfest.plist</code>的文件复制到 <code>GearBest_temp.ipa</code>的同级目录。</p>
<pre><code class="language-shell">copy $1 $2
</code></pre>
<p>利用查找出来的信息 替换到 <code>mainfest.plist</code>里面的 <code>{version}</code>和 <code>{ipa}</code>字段。重新命名 <code>Plist</code> 为 <code>GearBest_版本号_编译号.plist</code></p>
<figure data-type="image" tabindex="14"><img src="http://upload-images.jianshu.io/upload_images/545662-c0e246e8d43e3692.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>
<p>在 <code>GearBest_temp.ipa</code>复制一份 <code>ipa</code>命名为 <code>GearBest.ipa</code>删除 <code>GearBest_temp.ipa文件</code></p>
<p>复制我们的配置 <code>Plist</code>到 <code>/Applications/MAMP/htdocs/iPiPa/plist</code>目录。</p>
<p>执行上传脚本</p>
<pre><code class="language-shell"> cd /Applications/MAMP/htdocs/iPiPa
 git add .
 git commit -m &quot;change&quot;
 git push
</code></pre>
<blockquote>
<p>请一定要用 <code>SSH</code> 进行 <code>Clone</code>并且配置你的 <code>SSH key</code></p>
</blockquote>
<p>我们上传完毕 用同步获取最新的 Log 信息。</p>
<p>获取 Log 的地址 [http://ip 地址:端口/job/项目名称/ Build 号/api/json?pretty=true](http://ip 地址:端口/job/项目名称/ Build 号/api/json?pretty=true)</p>
<blockquote>
<p>如果项目名称有中文一定要 <code>URL Encode</code></p>
</blockquote>
<p>我们把当前打包的 APP 下面信息 存放在 类里面用于保存</p>
<ul>
<li><code>App</code> 名称</li>
<li>版本号</li>
<li><code>Build</code> 号</li>
<li><code>Jenkins</code> 对应项目名称</li>
<li><code>Jenkins</code> 对应的 <code>Build</code> 号</li>
<li><code>Plist</code>的 <code>Raw</code> 地址</li>
<li>打包的 <code>Log</code> 信息。</li>
</ul>
<p>我们可以利用 <code>Model</code> 转 <code>Json</code>存在本地 每次重新生成安装界面从本地读取之后生成安装的 <code>Html</code>存在到我们 <code>MAMP</code>的主目录即可。</p>
<blockquote>
<p>sleep 60 #休眠60秒等待 APP 执行完毕 让 <code>Jenkins</code>强行的休眠60秒是等待我们的软件执行完毕。</p>
<p>之前没注意  发现我们的软件没走完就停止了。</p>
</blockquote>
<p>可能大家看完听得云里雾里，不止所云。我之后有时间把自动化上传软件再次写一遍 开源，这样大家就可以部署一下。</p>
<p>说一下这样部署的优点吧。</p>
<ul>
<li>使用 <code>Jenkins</code> 服务可以让测试人员自己打包 想什么时间打什么时间打</li>
<li>使用 <code>Fastlane</code> 可以让其他的版本公用一套 配置</li>
<li>使用 <code>MAMP+Github</code>可以让测试人员通过内网瞬间安装。</li>
</ul>
<p>我们现在 <code>Fastlane</code>在自己电脑，导致每次打包都会很卡。希望公司贡献一台测试机出来就好了。</p>
<figure data-type="image" tabindex="15"><img src="http://upload-images.jianshu.io/upload_images/545662-9d3bdeea843a096b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="" loading="lazy"></figure>

                </div>
                <div class="clear"></div>
              </section>
            </article>
            <div class="clear"></div>

            <section class="related section">
              
              <article class="prev grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('http://ipicimage-1251019290.coscd.myqcloud.com/2017-11-27-063606.jpg');"></div>
                 <a href="https://joserccblog.github.io/post/2017-11-27-swift的泛型该如何初始化" class="full-link"></a>
                 <div class="info">
                  <time datetime="2017-11-27">2017-11-27</time>
                  <h4 class="title white no-margin">Swift的泛型该如何初始化</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://joserccblog.github.io/media/images/left-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              
              
              <article class="next grid-50 tablet-grid-50 grid-parent">
                <div class="thumb cover lazy loaded" style="background-image: url('http://ipicimage-1251019290.coscd.myqcloud.com/2017-11-27-062602.jpg');"></div>
                 <a href="https://joserccblog.github.io/post/2017-11-27-你是否变成了你自己" class="full-link"></a>
                 <div class="info">
                  <time datetime="2017-11-27">2017-11-27</time>
                  <h4 class="title white no-margin">你是否变成了你自己</h4>
                </div>
                 <span class="epcl-button red">
                  <img src="https://joserccblog.github.io/media/images/right-arrow.svg" width="15" alt="Left Arrow">
                </span>
                <div class="overlay"></div>
              </article>
              

                <div class="clear"></div>
            </section>

              <div class="clear"></div>

              <div id="comments" class="bg-white hosted ">

              
                
                
                  <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'josercc',
  apikey: 'DBJHHPsqZBT5EUYFyQmorAozkwxTDoySOnd4bmdt9G29YFySUFhFE6SLZrSCHee4',
}
if ('') {
  options.api = ''
}
var dsqjs = new DisqusJS(options)

</script>

                
              
                <div class="clear"></div>
              </div>

              <div class="clear"></div>
            </div>
          </div>
      </main>

          <footer id="footer" class="grid-container">
        <div class="widgets row gradient-effect">
            <div class="default-sidebar border-effect">
              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_epcl_posts_thumbs underline-effect">
                  <h4 class="widget-title title white bordered">最新文章</h4>
                  
                  
                  <article class="item post-0 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://joserccblog.github.io/post/apple-login-jie-ru-qian-yi-ci-shen-ru-yan-jiu" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('http://ipicimage-1251019290.coscd.myqcloud.com/2019-09-18-064137.jpg');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2019-09-18">2019-09-18</time>
                      <h4 class="title usmall">
                        <a href="https://joserccblog.github.io/post/apple-login-jie-ru-qian-yi-ci-shen-ru-yan-jiu">Apple Login接入前一次深入研究</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-1 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://joserccblog.github.io/post/ji-yu-xcode11-bian-yi-de-command-line-chu-lai-de-er-jin-zhi-framework-zai-di-ban-ben-bian-yi-bao-cuo-___isplatformversionatleast" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('http://ipicimage-1251019290.coscd.myqcloud.com/2019-09-16-070825.png');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2019-09-16">2019-09-16</time>
                      <h4 class="title usmall">
                        <a href="https://joserccblog.github.io/post/ji-yu-xcode11-bian-yi-de-command-line-chu-lai-de-er-jin-zhi-framework-zai-di-ban-ben-bian-yi-bao-cuo-___isplatformversionatleast">基于 Xcode11编译的 Command Line 出来的 二进制 Framework 在低版本编译报错___isPlatformVersionAtLeast</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  <article class="item post-2 post type-post status-publish format-standard has-post-thumbnail hentry">
                    <a href="https://joserccblog.github.io/post/guan-yu-objective-c-ban-ben-de-swiftui-ku-de-zi-dong-sheng-cheng-bu-ju-de-yan-jiu-xin-de" class="thumb hover-effect">
                      <span class="fullimage cover" style="display: block;background-image: url('data:image/jpeg;base64,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');"></span>
                    </a>
                    <div class="info gradient-effect">
                      <time datetime="2019-08-29">2019-08-29</time>
                      <h4 class="title usmall">
                        <a href="https://joserccblog.github.io/post/guan-yu-objective-c-ban-ben-de-swiftui-ku-de-zi-dong-sheng-cheng-bu-ju-de-yan-jiu-xin-de">关于Objective-C版本的SwiftUI库的自动生成布局的研究心得</a>
                      </h4>
                    </div>
                    <div class="clear"></div>
                  </article>
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="tag_cloud-2" class="widget widget_tag_cloud underline-effect">
                  <h4 class="widget-title title white bordered">标签云</h4>
                  <div class="tagcloud">
                    
                      <a href="https://joserccblog.github.io/tag/swift" class="ctag ctag-0 ctag-swift" aria-label="">Swift</a>
                    
                      <a href="https://joserccblog.github.io/tag/ios" class="ctag ctag-1 ctag-ios" aria-label="">iOS</a>
                    
                      <a href="https://joserccblog.github.io/tag/framework" class="ctag ctag-2 ctag-framework" aria-label="">Framework</a>
                    
                      <a href="https://joserccblog.github.io/tag/carthage" class="ctag ctag-3 ctag-carthage" aria-label="">Carthage</a>
                    
                      <a href="https://joserccblog.github.io/tag/cocoapods" class="ctag ctag-4 ctag-cocoapods" aria-label="">Cocoapods</a>
                    
                      <a href="https://joserccblog.github.io/tag/masonry" class="ctag ctag-5 ctag-masonry" aria-label="">Masonry</a>
                    
                      <a href="https://joserccblog.github.io/tag/yue-shu-chong-tu" class="ctag ctag-6 ctag-yue-shu-chong-tu" aria-label="">约束冲突</a>
                    
                      <a href="https://joserccblog.github.io/tag/uistackview" class="ctag ctag-7 ctag-uistackview" aria-label="">UIStackView</a>
                    
                      <a href="https://joserccblog.github.io/tag/ios11" class="ctag ctag-8 ctag-ios11" aria-label="">iOS11</a>
                    
                      <a href="https://joserccblog.github.io/tag/sheng-huo" class="ctag ctag-9 ctag-sheng-huo" aria-label="">生活</a>
                    
                      <a href="https://joserccblog.github.io/tag/zhi-shi-dian" class="ctag ctag-10 ctag-zhi-shi-dian" aria-label="">知识点</a>
                    
                      <a href="https://joserccblog.github.io/tag/testflight" class="ctag ctag-11 ctag-testflight" aria-label="">TestFlight</a>
                    
                      <a href="https://joserccblog.github.io/tag/guo-ji-hua" class="ctag ctag-12 ctag-guo-ji-hua" aria-label="">国际化</a>
                    
                      <a href="https://joserccblog.github.io/tag/xcode9" class="ctag ctag-13 ctag-xcode9" aria-label="">Xcode9</a>
                    
                      <a href="https://joserccblog.github.io/tag/zi-dong-hua" class="ctag ctag-14 ctag-zi-dong-hua" aria-label="">自动化</a>
                    
                      <a href="https://joserccblog.github.io/tag/hei-mo-fa" class="ctag ctag-15 ctag-hei-mo-fa" aria-label="">黑魔法</a>
                    
                      <a href="https://joserccblog.github.io/tag/ota" class="ctag ctag-16 ctag-ota" aria-label="">OTA</a>
                    
                      <a href="https://joserccblog.github.io/tag/xctest" class="ctag ctag-17 ctag-xctest" aria-label="">XCTest</a>
                    
                      <a href="https://joserccblog.github.io/tag/appstore" class="ctag ctag-18 ctag-appstore" aria-label="">AppStore</a>
                    
                      <a href="https://joserccblog.github.io/tag/mac" class="ctag ctag-19 ctag-mac" aria-label="">Mac</a>
                    
                      <a href="https://joserccblog.github.io/tag/gan-xiang" class="ctag ctag-20 ctag-gan-xiang" aria-label="">感想</a>
                    
                      <a href="https://joserccblog.github.io/tag/xcode" class="ctag ctag-21 ctag-xcode" aria-label="">Xcode</a>
                    
                      <a href="https://joserccblog.github.io/tag/svn" class="ctag ctag-22 ctag-svn" aria-label="">SVN</a>
                    
                      <a href="https://joserccblog.github.io/tag/xiang-fa" class="ctag ctag-23 ctag-xiang-fa" aria-label="">想法</a>
                    
                      <a href="https://joserccblog.github.io/tag/di-san-fang-ku" class="ctag ctag-24 ctag-di-san-fang-ku" aria-label="">第三方库</a>
                    
                      <a href="https://joserccblog.github.io/tag/mo-kuai-hua" class="ctag ctag-25 ctag-mo-kuai-hua" aria-label="">模块化</a>
                    
                      <a href="https://joserccblog.github.io/tag/c" class="ctag ctag-26 ctag-c" aria-label="">C</a>
                    
                      <a href="https://joserccblog.github.io/tag/autolayout" class="ctag ctag-27 ctag-autolayout" aria-label="">AutoLayout</a>
                    
                      <a href="https://joserccblog.github.io/tag/xib" class="ctag ctag-28 ctag-xib" aria-label="">Xib</a>
                    
                      <a href="https://joserccblog.github.io/tag/clang-format" class="ctag ctag-29 ctag-clang-format" aria-label="">Clang Format</a>
                    
                      <a href="https://joserccblog.github.io/tag/objetive-c" class="ctag ctag-30 ctag-objetive-c" aria-label="">Objetive-C</a>
                    
                      <a href="https://joserccblog.github.io/tag/zhou-bao" class="ctag ctag-31 ctag-zhou-bao" aria-label="">周报</a>
                    
                      <a href="https://joserccblog.github.io/tag/jekyll" class="ctag ctag-32 ctag-jekyll" aria-label="">Jekyll</a>
                    
                      <a href="https://joserccblog.github.io/tag/server" class="ctag ctag-33 ctag-server" aria-label="">Server</a>
                    
                      <a href="https://joserccblog.github.io/tag/uibarbuttonitem" class="ctag ctag-34 ctag-uibarbuttonitem" aria-label="">UIBarButtonItem</a>
                    
                      <a href="https://joserccblog.github.io/tag/uitextfiled" class="ctag ctag-35 ctag-uitextfiled" aria-label="">UITextFiled</a>
                    
                  </div>
                  <div class="clear"></div>
                </section>
              </div>

              <div class="grid-33 tablet-grid-50 mobile-grid-100">
                <section id="epcl_about-2" class="widget widget_epcl_about underline-effect">
                  <h4 class="widget-title title white bordered">关于我</h4>
                  <div class="avatar">
                    <a href="" class="translate-effect thumb"><span class="fullimage cover" style="background-image: url(https://joserccblog.github.io/images/avatar.png);"></span></a>
                  </div>
                  <div class="info">
                    <h4 class="title small author-name gradient-effect no-margin"><a href="">君赏博客</a></h4>
                    <p class="founder">2012年从事iOS开发，资深iOS开发菜鸟，目前在环球易购占坑。喜欢研究偏门技术，喜欢自动化编程，喜欢研究小软件提高编程效率</p>
                    <div class="social">
                      
                          
                            <a href="https://github.com/josercc" class="translate-effect" target="_blank"><i class="fa fa-github"></i></a>
                        
                      
                        
                      
                        
                      
                        
                      
                        
                      
                    </div> 
                  </div>
                  <div class="clear"></div>
                  </section>
              </div>

            </div>
            <div class="clear"></div>
        </div>

        <div class="logo">
          <a href="https://joserccblog.github.io"><img class="" src="https://joserccblog.github.io/media/images/logo.png" alt=""></a>
        </div>
        <p class="published border-effect">
          ©2019 共 94 篇文章
          <br/>
          Theme <a href="https://gridea.dev/" target="_blank">「breek」</a> Powered by <a href="https://gridea.dev/" target="_blank">「Gridea」</a>
        </p>
        
        <a href="javascript:void(0)" id="back-to-top" class="epcl-button dark" style="display:none">
          <i class="fa fa-arrow"></i>
        </a>
    </footer>
    <div class="clear"></div>

      <script type="text/javascript">
       jQuery(document).ready(function($){
          $("photos img").each(function(){
              var _a = $("<a></a>").attr("href",this.src);
              $(this).wrap("<div class='photo'></div>").wrap(_a);
          })
          $("figure img").each(function(){
              var _b = $("<a></a>").attr("href",this.src);
              $(this).wrap(_b);
          })
          isImgLoad(function(){
            var photos = document.querySelector('photos');
            if(photos){
              waterfall(photos);
            }
            $(window).resize(function() {
             if(photos){
                  waterfall(photos);
            }
          });
        });
        var t_img;
        var isLoad = true;
        function isImgLoad(callback){
          $('photos img').each(function(){
            if(this.height === 0){
              isLoad = false;
              return false;
            }
          });
          if(isLoad){
            clearTimeout(t_img);
            callback();
          }else{
            isLoad = true;
            t_img = setTimeout(function(){
              isImgLoad(callback);
            },500);
          }
        }
      });
      </script>

    </div>
    <!-- end: #wrapper -->
  </body>
</html>
