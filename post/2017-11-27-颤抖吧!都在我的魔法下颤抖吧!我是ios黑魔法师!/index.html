<!DOCTYPE html>
<html>
  <head>
      
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- ç™¾åº¦éªŒè¯ -->
<meta name="baidu-site-verification" content="1IkquSGR9Z"/>

<title>å›èµåšå®¢</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="2012å¹´ä»äº‹iOSå¼€å‘ï¼Œèµ„æ·±iOSå¼€å‘èœé¸Ÿï¼Œç›®å‰åœ¨ç¯çƒæ˜“è´­å å‘ã€‚å–œæ¬¢ç ”ç©¶åé—¨æŠ€æœ¯ï¼Œå–œæ¬¢è‡ªåŠ¨åŒ–ç¼–ç¨‹ï¼Œå–œæ¬¢ç ”ç©¶å°è½¯ä»¶æé«˜ç¼–ç¨‹æ•ˆç‡"/>
<meta name="keywords" content="2012å¹´ä»äº‹iOSå¼€å‘ï¼Œèµ„æ·±iOSå¼€å‘èœé¸Ÿï¼Œç›®å‰åœ¨ç¯çƒæ˜“è´­å å‘ã€‚å–œæ¬¢ç ”ç©¶åé—¨æŠ€æœ¯ï¼Œå–œæ¬¢è‡ªåŠ¨åŒ–ç¼–ç¨‹ï¼Œå–œæ¬¢ç ”ç©¶å°è½¯ä»¶æé«˜ç¼–ç¨‹æ•ˆç‡"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://joserccblog.github.io/favicon.ico">

<link rel="stylesheet" href="https://joserccblog.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://joserccblog.github.io/media/scripts/_vendors/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->

    

    
        <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css" />
    


<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>

<link crossorigin="anonymous" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" href="https://lib.baomitu.com/font-awesome/5.8.1/css/all.min.css" rel="stylesheet">

  </head>
  <body>
  
<div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://joserccblog.github.io/media/images/avatar.png" alt="å›èµåšå®¢" class="img-responsive">
        </figure>
        <h3 class="heading">ABOUT ME</h3>
        <h2>å›èµåšå®¢</h2>
        <p>2012å¹´ä»äº‹iOSå¼€å‘ï¼Œèµ„æ·±iOSå¼€å‘èœé¸Ÿï¼Œç›®å‰åœ¨ç¯çƒæ˜“è´­å å‘ã€‚å–œæ¬¢ç ”ç©¶åé—¨æŠ€æœ¯ï¼Œå–œæ¬¢è‡ªåŠ¨åŒ–ç¼–ç¨‹ï¼Œå–œæ¬¢ç ”ç©¶å°è½¯ä»¶æé«˜ç¼–ç¨‹æ•ˆç‡</p>
        <ul class="fh5co-social">
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">
        <div class="fh5co-box">
            <h3 class="heading">æœç´¢</h3>
            <form action="#">
                <div class="form-group">
                    <input type="text" id="bdcsMain" class="form-control" placeholder="è¾“å…¥å…³é”®å­—">
<!--                    <button type="submit" class="btn btn-sm btn-warning" style="margin-top: 6px; width: 100%">ç‚¹å‡»æœç´¢</button>-->
                </div>
            </form>
        </div>
        <div class="fh5co-box">
            <h3 class="heading">æ ‡ç­¾</h3>
            <ul>
                
                    <li><a href="https://joserccblog.github.io/tag/swift">Swift</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/ios">iOS</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/framework">Framework</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/carthage">Carthage</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/cocoapods">Cocoapods</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/masonry">Masonry</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/yue-shu-chong-tu">çº¦æŸå†²çª</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/uistackview">UIStackView</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/ios11">iOS11</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/sheng-huo">ç”Ÿæ´»</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/zhi-shi-dian">çŸ¥è¯†ç‚¹</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/testflight">TestFlight</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/guo-ji-hua">å›½é™…åŒ–</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/xcode9">Xcode9</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/zi-dong-hua">è‡ªåŠ¨åŒ–</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/hei-mo-fa">é»‘é­”æ³•</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/ota">OTA</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/xctest">XCTest</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/appstore">AppStore</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/mac">Mac</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/gan-xiang">æ„Ÿæƒ³</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/xcode">Xcode</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/svn">SVN</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/xiang-fa">æƒ³æ³•</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/di-san-fang-ku">ç¬¬ä¸‰æ–¹åº“</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/mo-kuai-hua">æ¨¡å—åŒ–</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/c">C</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/autolayout">AutoLayout</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/xib">Xib</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/clang-format">Clang Format</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/objetive-c">Objetive-C</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/zhou-bao">å‘¨æŠ¥</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/jekyll">Jekyll</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/server">Server</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/uibarbuttonitem">UIBarButtonItem</a></li>
                
                    <li><a href="https://joserccblog.github.io/tag/uitextfiled">UITextFiled</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                         >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                         >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                         >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                         >
                            å…³äº
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/contact/"
                         >
                            è”ç³»ä½œè€…
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://joserccblog.github.io">å›èµåšå®¢ </a>
                </h1>
            </div>
        </div>
    </div>
</header>


<!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
<!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

  <div class="container-fluid">
      <div class="row fh5co-post-entry single-entry">
          <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
              <figure class="animate-box">
                  
                      <img src="http://ipicimage-1251019290.coscd.myqcloud.com/2017-11-27-072436.jpg" alt="é¢¤æŠ–å§!éƒ½åœ¨æˆ‘çš„é­”æ³•ä¸‹é¢¤æŠ–å§!æˆ‘æ˜¯iOSé»‘é­”æ³•å¸ˆ!" class="img-responsive">
                  
              </figure>
              <span class="fh5co-meta animate-box">
                  
                      <div class="tag-container">
                          
                              <a href="https://joserccblog.github.io/tag/ios" class="tag">iOS, </a>
                          
                              <a href="https://joserccblog.github.io/tag/hei-mo-fa" class="tag">é»‘é­”æ³•, </a>
                          
                      </div>
                  
              </span>
              <h2 class="fh5co-article-title animate-box">é¢¤æŠ–å§!éƒ½åœ¨æˆ‘çš„é­”æ³•ä¸‹é¢¤æŠ–å§!æˆ‘æ˜¯iOSé»‘é­”æ³•å¸ˆ!</h2>
              <span class="fh5co-meta fh5co-date animate-box">2017-11-27</span>

              <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                  <div class="row">
                      <div class="col-md-12 animate-box post-content">
                          <p> <h2 id="availabilityå¯ç”¨æ€§">availability(å¯ç”¨æ€§)</h2>
<p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<pre><code class="language-c">void f(void) __attribute__((availability(macos,introduced=10.4,deprecated=10.6,obsoleted=10.7)));
</code></pre>
<p>è¿™ä¸ª API åŒ…å«ä¸‹é¢å‡ ä¸ªä¿¡æ¯ï¼š</p>
<ul>
<li>åªèƒ½åœ¨ <code>macos</code>ä½¿ç”¨</li>
<li>åœ¨<code>10.4</code>ç³»ç»Ÿä¹‹åæ‰å¯ä»¥å¼€å§‹ä½¿ç”¨</li>
<li>åœ¨ <code>10.6</code>ç³»ç»Ÿä¹‹åå¼€å§‹åºŸå¼ƒä½†æ˜¯è¿˜æ˜¯å¯ä»¥ç”¨</li>
<li>åœ¨ <code>10.7</code>å·²ç»å®Œå…¨ç§»é™¤ï¼Œæ²¡æœ‰è¿™ä¸ª APIã€‚</li>
</ul>
<p>å±æ€§åˆ—è¡¨ï¼š</p>
<ul>
<li>
<p><code>introduced</code>ï¼šç‰ˆæœ¬å·ç±»å‹</p>
<p>å¼€å§‹çš„ç‰ˆæœ¬</p>
</li>
<li>
<p><code>deprecated</code>ï¼šç‰ˆæœ¬å·ç±»å‹</p>
<p>åºŸå¼ƒçš„ç‰ˆæœ¬</p>
</li>
<li>
<p><code>obsoleted</code>ï¼šç‰ˆæœ¬å·ç±»å‹</p>
<p>ç§»é™¤çš„ç‰ˆæœ¬</p>
</li>
<li>
<p><code>unavailable</code>ï¼šå¹³å°ç±»å‹</p>
<p>æ ‡è¯†é‚£äº›å¹³å°ä¸å¯ç”¨</p>
</li>
<li>
<p><code>message</code>ï¼š æ–‡æœ¬ç±»å‹</p>
<p>è¿‡æ—¶æ—¶æç¤ºçš„æ–‡å­—</p>
</li>
<li>
<p><code>replacement</code>ï¼šæ–‡æœ¬ç±»å‹</p>
<p>åºŸå¼ƒæ›¿æ¢çš„æ–‡æœ¬</p>
</li>
</ul>
<p>æ”¯æŒçš„å¹³å°åˆ—è¡¨ï¼š</p>
<ul>
<li><code>ios</code></li>
<li><code>macos</code></li>
<li><code>tvos</code></li>
<li><code>watchos</code></li>
</ul>
<h4 id="åé¢å£°æ˜çš„å¿…é¡»è¦ç¬¦åˆå‰é¢çš„å£°æ˜å‡†åˆ™">åé¢å£°æ˜çš„å¿…é¡»è¦ç¬¦åˆå‰é¢çš„å£°æ˜å‡†åˆ™ã€‚</h4>
<p>å£°æ˜ä¸€ä¸ª  <code>g</code>å‡½æ•°åœ¨ <code>MacOS10.4</code>ä¹‹åå¯ä»¥ç”¨ã€‚</p>
<pre><code class="language-c">void g(void) __attribute__((availability(macos,introduced=10.4)));
</code></pre>
<p>æ–°å¢åœ¨ <code>iOS4.0</code>æ”¯æŒ</p>
<pre><code class="language-c">void g(void) __attribute__((availability(ios,introduced=4.0)));
</code></pre>
<p>å£°æ˜åœ¨ <code>MacOS</code>å’Œ <code>iOS</code>å¯ç”¨ã€‚</p>
<pre><code class="language-c">void g(void)
</code></pre>
<p>ä¸‹é¢å†å£°æ˜åœ¨ <code>MacOS10.5</code>ä¹‹åæ”¯æŒæ˜¯é”™è¯¯çš„ã€‚</p>
<pre><code class="language-c">void g(void) __attribute__((availability(macos,introduced=10.5)))
</code></pre>
<h4 id="å¦‚æœè¦é‡å†™æ–¹æ³•é‡å†™æ–¹æ³•å¿…é¡»æ”¯æŒèŒƒå›´æ›´å¹¿">å¦‚æœè¦é‡å†™æ–¹æ³•é‡å†™æ–¹æ³•å¿…é¡»æ”¯æŒèŒƒå›´æ›´å¹¿ã€‚</h4>
<pre><code class="language-objc">@interface A

/**
 å£°æ˜ methodåœ¨ iOS5.0ä¹‹åå¯ä»¥ä½¿ç”¨
 */
- (void)method __attribute__((availability(ios,introduced=5.0)));

/**
 å£°æ˜ method2åœ¨ iOS5.0ä¹‹åå¯ä»¥ä½¿ç”¨
 */
- (void)method2 __attribute__((availability(ios,introduced=5.0)));

@end
</code></pre>
<pre><code class="language-objc">@interface B : A

/**
 é‡å†™çˆ¶ç±»æ–¹æ³• method åœ¨ iOS4.0å°±å¯ä»¥ç”¨
 */
- (void)method __attribute__((availability(ios,introduced=4.0)));

/**
  é‡å†™çˆ¶ç±»æ–¹æ³• method2 åœ¨ iOS6.0ä¹‹åæ‰å¯ä»¥ç”¨
 */
- (void)method2 __attribute__((availability(ios,introduced=6.0)));

@end
</code></pre>
<p>å¯¹äºå­ç±» <code>B</code>é‡å†™çˆ¶ç±» <code>A</code>æ–¹æ³• <code>method2</code>åœ¨ <code>iOS6.0</code>ä¹‹åæ‰å¯ä»¥ç”¨æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºçˆ¶ç±»æ–¹æ³•æ˜¯å¯ä»¥åœ¨ <code>iOS5.0</code>å°±å¯ä»¥ç”¨çš„ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/545662-4336cf3d04deb15d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="deprecatedè¿‡æ—¶">deprecated(è¿‡æ—¶)</h2>
<p>æ”¯æŒè¯­æ³•:</p>
<ul>
<li>å‡½æ•°</li>
<li>å˜é‡</li>
<li>ç±»å‹</li>
</ul>
<pre><code class="language-c">void function(void) __attribute__((deprecated(&quot;å·²ç»è¿‡æ—¶è¯·ç”¨function2æ–¹æ³•&quot;,&quot;function2&quot;)));
</code></pre>
<p>å‚æ•°:</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°: è¿‡æ—¶çš„æç¤ºè¯­</li>
<li>ç¬¬äºŒä¸ªå‚æ•° : è®©ç¼–è¯‘å™¨æ›¿æ¢çš„å†…å®¹</li>
</ul>
<p>å½“æˆ‘ä»¬è°ƒç”¨ <code>function</code>æ–¹æ³•çš„æ—¶å€™ç¼–è¯‘å™¨ä¼šæç¤ºè­¦å‘Šï¼Œå¹¶ä¸”æç¤ºæˆ‘ä»¬ä¿®å¤ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/545662-2523b48ed36bc5e1.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>å½“æˆ‘ä»¬ç‚¹å‡» <code>Fix-it</code>æ—¶å€™ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠç¬¬äºŒä¸ªå‚æ•°ä¿®å¤æ‰ã€‚</p>
<p>æˆ‘è®¤ä¸ºè¿™ä¸ªå±æ€§æ˜¯æˆ‘ä»¬ç¼–ç¨‹è¿‡ç¨‹ä¸­ä¸€ä¸ªä¸é”™çš„åŠŸèƒ½å±æ€§ã€‚</p>
<h2 id="objc_boxableå°ç®±">objc_boxable(å°ç®±)</h2>
<p>æ ‡æœ‰objc_boxableå±æ€§çš„ <code>struct</code> å’Œ <code>union</code> å¯ä»¥ä¸Objective-C boxedè¡¨è¾¾å¼è¯­æ³• <code>@(...)</code>  ä¸€èµ·ä½¿ç”¨ã€‚</p>
<pre><code class="language-c">struct __attribute__((objc_boxable)) struct1 {
    int i;
};
</code></pre>
<pre><code class="language-objc">        struct struct_demo demo;
        NSValue *value = @(demo);
</code></pre>
<h2 id="objc_requires_superå­ç±»å¿…é¡»è°ƒç”¨çˆ¶ç±»">objc_requires_super(å­ç±»å¿…é¡»è°ƒç”¨çˆ¶ç±»)</h2>
<p>ä¸€äº›Objective-Cç±»å…è®¸ä¸€ä¸ªå­ç±»è¦†ç›–çˆ¶ç±»ä¸­çš„ä¸€ä¸ªç‰¹å®šæ–¹æ³•ï¼Œä½†æ˜¯æœŸæœ›è¦†ç›–æ–¹æ³•ä¹Ÿä¼šè°ƒç”¨çˆ¶ç±»ä¸­çš„è¢«è¦†ç›–çš„æ–¹æ³•ã€‚å¯¹äºè¿™äº›æƒ…å†µï¼Œæˆ‘ä»¬æä¾›ä¸€ä¸ªå±æ€§æ¥æŒ‡å®šä¸€ä¸ªæ–¹æ³•éœ€è¦åœ¨å­ç±»ä¸­çš„è¦†ç›–æ–¹æ³•ä¸­è°ƒç”¨<code>super</code>ã€‚</p>
<p><code>__attribute__((objc_requires_super))</code>è¿™ä¸ªå±æ€§æ”¾åœ¨æ–¹æ³•çš„å°¾éƒ¨ã€‚</p>
<p>è®©æˆ‘ä»¬åˆ›å»º <code>TestOne</code>ç±»å£°æ˜ä¸€ä¸ªæ–¹æ³• <code>Function</code>å®ç°è¿™ä¸ªå±æ€§ã€‚</p>
<pre><code class="language-objc">@interface TestOne : NSObject

- (void)function __attribute__((objc_requires_super));

@end
</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª <code>TestTwo</code>çš„ç±»é‡å†™ <code>Function</code>ã€‚</p>
<pre><code class="language-objc">@implementation TestTwo

- (void)function {

}

@end
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¼–è¯‘å™¨æ›å‡ºä¸€ä¸ªè­¦å‘Šç±»ä¼¼è¿™æ ·ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/545662-380998209e8c95eb.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>è¿™æ ·å­ç±»åªè¦é‡å†™çˆ¶ç±»å°±è¦è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•äº†ã€‚</p>
<pre><code class="language-objc">- (void)function {
    [super function];
}
</code></pre>
<h2 id="è¿è¡Œæ—¶åç§°">è¿è¡Œæ—¶åç§°</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒObjective-Cæ¥å£æˆ–åè®®æ ‡è¯†ç¬¦ç”¨äºè¯¥å¯¹è±¡çš„å…ƒæ•°æ®åç§°ã€‚objc_runtime_nameå±æ€§å…è®¸æ³¨é‡Šçš„æ¥å£æˆ–åè®®åœ¨å¯¹è±¡çš„å…ƒæ•°æ®åç§°ä¸­ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²å‚æ•°ï¼Œè€Œä¸æ˜¯é»˜è®¤åç§°ã€‚</p>
<p><code>__attribute__((objc_runtime_name(&quot;MyLocalName&quot;)))</code>åœ¨ <code>@protocol</code>å’Œ <code>@interface</code>å£°æ˜ä¹‹å‰å£°æ˜ã€‚</p>
<p>æˆ‘ä»¬åœ¨ç±» <code>TestOne</code>å®ç°è¿™ä¸ªå±æ€§ã€‚</p>
<pre><code class="language-objc">__attribute__((objc_runtime_name(&quot;TestThree&quot;)))
@interface TestOne : NSObject

- (void)function __attribute__((objc_requires_super));

@end
</code></pre>
<p>è®©æˆ‘ä»¬ <code>AppDelegate</code>åˆ›å»ºä¸€ä¸ª <code>TestOne</code>è¾“å‡ºä¸€ä¸‹çœ‹çœ‹è¾“å‡ºä»€ä¹ˆã€‚</p>
<pre><code class="language-objc">    TestOne *one = [[TestOne alloc] init];
    NSLog(@&quot;%@&quot;,one);
</code></pre>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹æ§åˆ¶å°çš„è¾“å‡º</p>
<pre><code class="language-objc">&lt;TestThree: 0x600000004b50&gt;
</code></pre>
<p>æ˜¾ç¤ºæ˜¯æˆ‘ä»¬æ›¿æ¢çš„åå­—ã€‚</p>
<h2 id="objc_runtime_visibleåªå…è®¸åœ¨è¿è¡Œæ—¶å¯è§">objc_runtime_visible(åªå…è®¸åœ¨è¿è¡Œæ—¶å¯è§)</h2>
<p>è¯¥å±æ€§æŒ‡å®šå…¶åº”ç”¨äºçš„Objective-Cç±»å¯¹äºObjective-Cè¿è¡Œæ—¶å¯è§ï¼Œä½†ä¸å¯¹é“¾æ¥å™¨å¯è§ã€‚ç”¨æ­¤å±æ€§æ³¨é‡Šçš„ç±»ä¸èƒ½è¢«å­ç±»åŒ–ï¼Œå¹¶ä¸”ä¸èƒ½ä¸ºå®ƒä»¬å®šä¹‰ç±»åˆ«ã€‚</p>
<p>æˆ‘ä»¬ç»™ <code>TestTwo</code>ç±»å¢åŠ è¿™ä¸ªå±æ€§</p>
<pre><code class="language-objc">__attribute__((objc_runtime_visible))
@interface TestTwo : TestOne  

@end
</code></pre>
<p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªç±» <code>TestFour</code>ç»§æ‰¿äº <code>TestTwo</code>å½“æˆ‘ä»¬ <code>@implementation</code>å®ç°çš„æ—¶å€™ç¼–è¯‘å™¨ä¼šç›´æ¥æç¤ºæˆ‘ä»¬ä¸å¯ä»¥å­ç±»ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/545662-fe3ab52b04a94261.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="overloadable-æ–¹æ³•é‡è½½">overloadable (æ–¹æ³•é‡è½½)</h2>
<p>Clangæä¾›å¯¹Cä¸­C ++å‡½æ•°é‡è½½çš„æ”¯æŒï¼Œä½¿ç”¨ <code>overloadable</code> å±æ€§å¼•å…¥Cä¸­çš„å‡½æ•°é‡è½½ã€‚</p>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ— å‚æ•°æ— è¿”å›å€¼é‡è½½çš„æ–¹æ³• <code>TestFunction</code></p>
<pre><code class="language-c">void TestFunction(void)  __attribute__((overloadable)){

}
</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ¥å— <code>int</code>å±æ€§è¿”å› <code>int</code>å€¼çš„é‡è½½æ–¹æ³• <code>TestFunction</code></p>
<pre><code class="language-objc">int TestFunction(int a) __attribute__((overloadable)) {
    return a;
}
</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ¥å— <code>int *</code>æŒ‡é’ˆç±»å‹å±æ€§è¿”å› <code>int *</code>æŒ‡é’ˆçš„é‡è½½æ–¹æ³• <code>TestFunction</code></p>
<pre><code class="language-c">int * TestFunction(int *a) __attribute__((overloadable)) {
    int *b = 0;
    *b += *a;
    return b;
}
</code></pre>
<p>ä¸€æ ·çš„æ–¹æ³•åç§°å› ä¸ºåŠ ä¸Š <code>overloadable</code>å±æ€§ä¸ä¼šè®©ç¼–è¯‘å™¨æŠ±é”™ï¼Œç±»ä¼¼äº <code>Swift</code>è¯­è¨€æ–¹æ³•ï¼Œå¯ä»¥è®©åŒä¸€ä¸ªæ–¹æ³•æ¥å—ä¸åŒçš„ç±»å‹ã€‚</p>
<p>è®©æˆ‘ä»¬è°ƒç”¨å°è¯•ä¸€ä¸‹ã€‚</p>
<pre><code class="language-c">        TestFunction();
        TestFunction(2);
        int *a;
        TestFunction(a);
</code></pre>
<p>æ­£å¸¸ç¼–è¯‘ã€‚</p>
<p>ä½ å¯ä»¥è¯•ä¸€ä¸‹åˆ é™¤å…¶ä¸­ä¸€ä¸ªå‡½æ•°çš„ <code>__attribute__((overloadable))</code>çœ‹çœ‹ä¼šæç¤ºä»€ä¹ˆã€‚</p>
<h2 id="objc_subclassing_restrictedç±»ä¸å¯ä»¥å­ç±»åŒ–">objc_subclassing_restricted(ç±»ä¸å¯ä»¥å­ç±»åŒ–)</h2>
<p>è¿™ä¸ªå’Œ <code>objc_runtime_visible</code>çœ‹ç€æœ‰ç‚¹åƒã€‚</p>
<p>æˆ‘ä»¬ç»™ç±» <code>TestTwo</code>æ·»åŠ å±æ€§ <code>objc_subclassing_restricted</code></p>
<pre><code class="language-objc">__attribute__((objc_subclassing_restricted))
@interface TestTwo : TestOne

@end
</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±» <code>TestSex</code>ç±»ç»§æ‰¿äº <code>TestTwo</code></p>
<pre><code class="language-objc">@interface TestSex : TestTwo

@end
</code></pre>
<p>ç¼–è¯‘å™¨ä¼šæŠ±é”™æç¤ºä¸‹é¢çš„ä¿¡æ¯</p>
<p><img src="http://upload-images.jianshu.io/upload_images/545662-fbd857e394cf3a37.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="compatibility_alias-åˆ«å">@compatibility_alias (åˆ«å)</h2>
<p>è¿™ä¸ªå¯ä»¥è®©å…¶ä»–çš„ç±»åè¿è¡Œæ—¶ä½¿ç”¨å…¶ä»–ç±»ã€‚</p>
<p>æˆ‘ä»¬åˆ›å»º <code>TestSex</code>æŒ‡å‘ <code>TestTwo</code></p>
<pre><code class="language-objc">__attribute__((objc_subclassing_restricted))
@interface TestTwo : TestOne

@end

@compatibility_alias TestSex TestTwo;
</code></pre>
<p>æˆ‘ä»¬åœ¨ <code>AppDelegate</code>ä½¿ç”¨</p>
<pre><code class="language-objc">    TestSex *sex = [[TestSex alloc] init];
</code></pre>
<p>ä½†æ˜¯ <code>TestSex</code>æ˜¯ä¸å­˜åœ¨çš„ã€‚ä½ å¯ä»¥è®©è€ä»£ç å…¼å®¹æ–°çš„æ¡†æ¶ã€‚</p>
<p>ä¸ä¿¡ä½ è¯•ä¸€ä¸‹ã€‚</p>
 </p>
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              <div class="next-post">
                                  <div class="next">ä¸‹ä¸€ç¯‡</div>
                                  <a href="https://joserccblog.github.io/post/2017-11-27-æ€ä¹ˆä»£ç åŠ è½½localizeable.stringsæ–‡ä»¶åˆ°ä¸€ä¸ªå­—å…¸é‡Œé¢">
                                      <h3 class="post-title">
                                          æ€ä¹ˆä»£ç åŠ è½½Localizeable.stringsæ–‡ä»¶åˆ°ä¸€ä¸ªå­—å…¸é‡Œé¢
                                      </h3>
                                  </a>
                              </div>
                          
                      </div>
                  </div>

                  <div class="row">
                      <div class="col-md-12 animate-box">
                          
                              

                              
                                  <div id="disqus_thread"></div>
                              
                          
                      </div>
                  </div>
              </div>

          </article>
      </div>
  </div>

    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a></p>
</footer>


    <!-- jQuery -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/jquery.min.js"></script>
<!-- jQuery Easing -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://joserccblog.github.io/media/scripts/_vendors/md5.min.js"></script>

<script type="application/javascript">
    hljs.initHighlightingOnLoad();
</script>



    

    
        <script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>
        <script>

            var options = {
                shortname: 'josercc',
                apikey: 'DBJHHPsqZBT5EUYFyQmorAozkwxTDoySOnd4bmdt9G29YFySUFhFE6SLZrSCHee4',
            }
            if ('') {
                options.api = ''
            }
            var dsqjs = new DisqusJS(options)

        </script>
    




  </body>
</html>
